---
import type { GetStaticPaths } from 'astro'
import Layout from '../layouts/Layout.astro'
import { DinoStartScreen } from '../components/DinoStartScreen'
import { dinos } from '@/data/siteData'

// Extract dino param from the URL path
const { dino } = Astro.params
export const getStaticPaths = (() => {
    return dinos.map((dino) => ({
        params: { dino: dino.id.toLocaleLowerCase() },
    }))
}) satisfies GetStaticPaths

const matchingDino =
    dinos.find((dinoToMatch) => dinoToMatch.id.toLocaleLowerCase() === dino) ??
    dinos[0]
---

<Layout title={`Welcome ${matchingDino?.name ?? ''}`}>
    <DinoStartScreen client:only="react" {...matchingDino} />
</Layout>
